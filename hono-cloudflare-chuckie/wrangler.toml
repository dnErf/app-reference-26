name = "mini-dbt"
main = "src/worker/index.tsx"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# D1 Database binding for materialization
# Replace 'your-database-id-here' with the actual ID from 'wrangler d1 create'
[[d1_databases]]
binding = "DB"
database_name = "mini-dbt-db"
database_id = "your-database-id-here"

[vars]
DEFAULT_MODEL = "example"

# Cron triggers for scheduled materialization (daily at midnight UTC)
[triggers]
crons = ["0 0 * * *"]
